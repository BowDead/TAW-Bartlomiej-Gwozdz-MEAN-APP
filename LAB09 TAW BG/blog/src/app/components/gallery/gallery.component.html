<div class="gallery-container">
  <h2>Galeria zdjÄ™Ä‡</h2>
  
  <div class="gallery-info">
    <p>Wszystkie zdjÄ™cia z postÃ³w ({{ galleryItems.length }})</p>
  </div>

  <div class="gallery-grid">
    @for (item of galleryItems; track $index) {
      <div 
        class="gallery-item"
        (click)="openImage(item)"
        [attr.aria-label]="'PowiÄ™ksz zdjÄ™cie: ' + item.title"
        tabindex="0"
        (keyup.enter)="openImage(item)"
      >
        <div class="image-wrapper">
          <img 
            [src]="item.image" 
            [alt]="item.title"
            loading="lazy"
          />
          <div class="overlay">
            <span class="zoom-icon">ğŸ”</span>
            <span class="image-title">{{ item.title }}</span>
          </div>
        </div>
      </div>
    }
  </div>

  @if (galleryItems.length === 0) {
    <div class="empty-gallery">
      <p>Brak zdjÄ™Ä‡ w galerii</p>
    </div>
  }
</div>

<!-- Modal for enlarged image -->
@if (isModalOpen && selectedImage) {
  <div 
    class="modal-backdrop"
    (click)="closeModal()"
  >
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button 
        class="close-button" 
        (click)="closeModal()"
        aria-label="Zamknij"
      >
        âœ•
      </button>
      
      <img 
        [src]="selectedImage.image" 
        [alt]="selectedImage.title"
        class="modal-image"
      />
      
      <div class="modal-caption">
        <h3>{{ selectedImage.title }}</h3>
      </div>
    </div>
  </div>
}
